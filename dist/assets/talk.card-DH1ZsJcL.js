import{h as n,l as o,k as s,d as A,a5 as N,f as F,r as j,t as i,C as t,i as I,n as T,Z as V}from"./index-D5ohQRTx.js";import{u as L}from"./profileMail.composition-Ct0xeH2T.js";function Q(e,l){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"})])}const S=A({name:"",props:["mail","envConfig","candidacyGlobal"],components:{TextQuery:N,ChevronRightIcon:Q},setup(e){const{candidacy_see_profile:l,candidacy_state_defined:d}=L();return{candidacy_see_profile:l,candidacy_state_defined:d}}}),D={class:"w-12 h-12"},O=["src"],P={class:"flex flex-col lg:flex-row lg:justify-between w-full gap-y-4 gap-x-2 lg:items-center"},Z={class:"flex flex-col"},z={class:"flex items-center gap-3"},H={class:"text-base font-black"},U={class:"text-xs"},q={class:"w-full"},J={class:"text-sm leading-[-10px]"},K={class:"flex text-xs items-center text-green-500 mt-1"},W={class:"flex gap-2"},X={key:0,class:"flex items-center text-sm rounded-md"};function Y(e,l,d,ee,le,se){var r,f,u,c,m,p,g,b,v,y,_,x,h,w,C,k;const B=j("ChevronRightIcon"),M=j("TextQuery");return n(),o("div",{class:V(["flex flex-col lg:flex-row gap-2 p-4 rounded-md",(r=e.mail)!=null&&r.candidacy_see_profile?"bg-white":"bg-purple-100"])},[s("div",D,[s("img",{src:(m=(c=(u=(f=e.mail)==null?void 0:f.user)==null?void 0:u.profile)==null?void 0:c.media_profile)!=null&&m.url?`${e.envConfig().HOST_SERVER_IMAGE}/`+((v=(b=(g=(p=e.mail)==null?void 0:p.user)==null?void 0:g.profile)==null?void 0:b.media_profile[0])==null?void 0:v.url.filename):e.envConfig().DEFAULT_IMAGE_PROFILE,class:"h-full rounded-full bg-blue-100 object-cover object-top",alt:""},null,8,O)]),s("div",P,[s("div",Z,[s("div",z,[s("span",H,i((x=(_=(y=e.mail)==null?void 0:y.user)==null?void 0:_.profile)==null?void 0:x.full_name),1),l[4]||(l[4]=t(" • ")),s("span",U,i((h=e.mail)==null?void 0:h.created_at),1)]),s("div",q,[s("span",J,[l[5]||(l[5]=t(" Bonjour ! Mon nom est ")),s("strong",null,"@"+i((k=(C=(w=e.mail)==null?void 0:w.user)==null?void 0:C.profile)==null?void 0:k.full_name),1),l[6]||(l[6]=t(" et je suis intéressé(e) par votre offre. "))])]),s("div",K,[I(B,{class:"h-4"}),I(M,{"class-name":"underline font-extrabold uppercase",title:e.mail.subject.replace(/\s+/g," ").trim(),sm:45,md:30,lg:38,xl:40},null,8,["title"])])]),s("div",W,[e.mail.candidacy_state===null?(n(),o("div",X,[s("button",{onClick:l[0]||(l[0]=a=>e.candidacy_state_defined(e.mail.id,!1,e.candidacyGlobal,e.mail.candidacy_state)),class:"bg-red-400 text-white p-2 text-xs rounded-l-md font-bold"}," Refuser "),s("button",{onClick:l[1]||(l[1]=a=>e.candidacy_state_defined(e.mail.id,!0,e.candidacyGlobal,e.mail.candidacy_state)),class:"bg-green-500 text-white p-2 text-xs rounded-r-md font-bold"}," Favorie ")])):T("",!0),e.mail.candidacy_state!==null?(n(),o("button",{key:1,onClick:l[2]||(l[2]=a=>e.candidacy_state_defined(e.mail.id,null,e.candidacyGlobal,!1)),class:"bg-gray-400 text-white p-2 text-xs rounded-md font-bold flex flex-col relative"},[l[7]||(l[7]=t(" Annuler ")),s("div",{class:V(["inline-flex w-full h-1 bg-white absolute left-0 bottom-0 rounded-b-md",e.mail.candidacy_state?"bg-green-300":"bg-red-300"])},null,2)])):T("",!0),s("button",{onClick:l[3]||(l[3]=a=>{var E,$,G,R;return e.candidacy_see_profile(e.mail.id,(G=($=(E=e.mail)==null?void 0:E.user)==null?void 0:$.profile)==null?void 0:G.slug,e.candidacyGlobal,(R=e.mail)==null?void 0:R.candidacy_see_profile)}),class:"bg-gray-200 px-4 py-2 text-sm rounded-md"}," Voir ")])])],2)}const oe=F(S,[["render",Y]]);export{oe as default};
