const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D5ohQRTx.js","assets/index-Bflj8BPZ.css","assets/SideLayout-DZrNfk07.js"])))=>i.map(i=>d[i]);
import{E as fe,v as u,G as ne,h as c,l as f,k as e,H as I,U as R,J as ge,d as N,f as F,I as xe,K as ye,F as L,m as B,n as k,M as ve,N as ie,A as V,O as me,P as he,Q as we,R as be,b as Oe,c as Je,o as Ce,S as $e,p as Se,i,w as A,V as o,t as r,C as O,g as _,X as je,Y as Te,Z as ke,r as oe,$ as Pe,a0 as Ae,e as j,_ as T}from"./index-D5ohQRTx.js";/* empty css                                                                   */import{r as Le}from"./CalendarIcon-DplqDhxz.js";import{r as Me}from"./PencilIcon-ysmuxmfL.js";const U=fe("Jobs",()=>{const s=u(),l=u([]),a=u(!1),d=u(!1),g=ne({loading_jobs:!1,error_jobs:!1,loading_jobsFaster:!1,error_jobsFaster:!1});function w(p){a.value=p}return{Jobs:s,state:g,GlobalJobs:l,ModalToTag:w,openModal:a,success_create_job:d}});function De(s,l){return c(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z","clip-rule":"evenodd"})])}class ae{async findAll(){let l=[];try{const{data:a}=await I.get(R.JOBS_LIST);return a?(l=a.Apply,{Apply:l}):{Apply:l}}catch{return{e:!0}}}async findOne(l){let a={};try{const{data:d}=await I.post(R.JOB_APPLY_SHOW,l);if(d)return a=d.job,{data:d}}catch{return{e:!0}}}async create(l){try{const{error:a,context:d}=await new ge().apply(l);if(a)return{data:null,error:d};const{data:g}=await I.post(R.JOB_APPLY_CREATE,l);if(g)return{data:g,error:null}}catch(a){if(a.response)return{data:null,error:[a.response.data]}}}}const Ee=N({name:"loading-post-detail-card",props:{sizeCard:{type:String,default:"w-full"}}}),Ie={class:"animate-pulse"};function Re(s,l,a,d,g,w){return c(),f("div",Ie,l[0]||(l[0]=[xe('<div class="flex flex-col gap-4"><div class="flex flex-col gap-8 w-full"><div class="flex flex-col gap-3 bg-gray-50 px-4 py-8 rounded-t-lg"><span class="h-4 w-4/12 flex-inline rounded-full bg-gray-100"></span><span class="h-4 w-3/12 rounded-full bg-gray-100"></span><span class="h-8 w-2/12 rounded-full bg-gray-100"></span></div><div class="flex flex-col w-full gap-8 p-8"><div class="flex flex-col gap-4"><span class="h-6 w-4/12 rounded-full bg-gray-100"></span><div class="flex flex-col gap-3"><div class="flex gap-2"><span class="h-4 w-5/12 rounded-full bg-gray-100"></span><span class="h-4 w-3/12 rounded-full bg-gray-100"></span><span class="h-4 w-6/12 rounded-full bg-gray-100"></span></div><div class="flex gap-2"><span class="h-4 w-6/12 rounded-full bg-gray-100"></span><span class="h-4 w-4/12 rounded-full bg-gray-100"></span><span class="h-4 w-2/12 rounded-full bg-gray-100"></span></div><div class="flex gap-2"><span class="h-4 w-3/12 rounded-full bg-gray-100"></span><span class="h-4 w-6/12 rounded-full bg-gray-100"></span><span class="h-4 w-5/12 rounded-full bg-gray-100"></span></div></div></div><div class="flex flex-col py-4"><span class="h-8 w-2/12 rounded-full bg-gray-100"></span></div></div></div></div>',1)]))}const _e=F(Ee,[["render",Re]]),Be=N({name:"Modal-tag-friend",props:[],setup(){return{openModal:ye(()=>U().openModal),qModalToTag__close:()=>{U().openModal=!1}}}}),Ve={key:0,class:"bg-gray-500/10 fixed top-0 w-screen h-screen justify-center items-end lg:items-center flex font-love"},Ue={class:"flex flex-col w-full md:w-4/12 bg-white h-[70%] rounded-md shadow-2xl"},Ne={class:"flex flex-col"},Fe={class:"flex justify-between items-center border-b-[1px] py-2 px-3"},ze={class:"flex flex-col gap-2 divide-y-2 px-3 overflow-auto mb-4"},He={class:""},qe={class:"flex items-center w-full gap-2 justify-between pt-3 cursor-pointer"},Ge=["for"],Ye={class:""},We=["id"];function Ze(s,l,a,d,g,w){return s.openModal?(c(),f("section",Ve,[e("div",Ue,[e("div",Ne,[e("div",Fe,[l[2]||(l[2]=e("span",{class:"font-love font-semibold"},"Tag vos ami(es)",-1)),e("div",{class:"bg-gray-100 w-8 h-8 rounded-full flex justify-center items-center cursor-pointer",onClick:l[0]||(l[0]=(...p)=>s.qModalToTag__close&&s.qModalToTag__close(...p))},l[1]||(l[1]=[e("i",{class:"fi fi-sr-cross-small text-xl text-gray-500 flex"},null,-1)]))]),l[3]||(l[3]=e("div",{class:"px-2 border-b-[1px] py-2"},[e("div",{class:"flex gap-2 bg-white border-[1px] justify-between items-center rounded-full px-3 py-1"},[e("input",{class:"w-11/12 outline-none bg-transparent placeholder:text-base",placeholder:"Rechercher un(e) ami(e)...",type:"text"}),e("i",{class:"fi fi-sr-search text-xl text-gray-500 flex"})])],-1))]),e("div",ze,[(c(),f(L,null,B(16,p=>e("div",He,[e("div",qe,[e("label",{for:"tag"+p,class:"flex gap-2 items-center cursor-pointer"},l[4]||(l[4]=[e("div",{class:"flex items-center w-12 h-12"},[e("img",{class:"bg-gray-100 rounded-full w-full h-full flex",src:"",alt:""})],-1),e("div",{class:"flex flex-col gap-[1px]"},[e("span",null,"Bash'man Sarah"),e("span",{class:"text-sm"},"Developpeur web & web master...")],-1)]),8,Ge),e("div",Ye,[e("input",{type:"checkbox",name:"",id:"tag"+p},null,8,We)])])])),64))])])])):k("",!0)}const Ke=F(Be,[["render",Ze]]),Qe=()=>{const s=ne({apply_err:!1,apply_loading:!1,apply_limit:!1,is:!1}),l=u();u({});const a=new he;ve();const d=new we,g=ie(),w=V(),p=u({path:"",message:""}),P=async(m,t,b)=>{const v=await m;if(v!=null&&v.error)return p.value=v==null?void 0:v.error[0];t(v)},{SendNotification:M}=me();return{stateApply:s,router:g,route:w,isError:p,applyShow:async m=>await P(new ae().findOne({jobID:m,userID:await a.get("jUserID")?d.qDecrypted(await a.get("jUserID")):null}),t=>{t!=null&&t.data&&(console.log(t==null?void 0:t.data),s.is=t!=null&&t.data.to_apply_job?t==null?void 0:t.data.to_apply_job.is_apply:!1,l.value=t==null?void 0:t.data.count)}),applyCreate:async m=>(s.apply_loading=!0,await P(new ae().create({jobID:m}),t=>{if(t!=null&&t.data){s.is=t!=null&&t.data.to_apply_job?t==null?void 0:t.data.to_apply_job.is_apply:!1,l.value=l.value+1,s.apply_loading=!1,new be().success("Condidacture","votre condidacture à été envoyer.");const b={type:238,recevie_id:t==null?void 0:t.data.userOwnerOfPost.user.id,redirect:"/"+(t==null?void 0:t.data.userOwnerOfPost.slug),content:t==null?void 0:t.data.userOwnerOfPost.title,provide_id:t==null?void 0:t.data.userOwnerOfPost.id};M(b)}})),countApply:l}},Xe={class:"flex flex-col lg:flex-row gap-4 pt-20 pb-[37em] lg:py-24 w-full lg:w-11/12 m-auto relative"},et={class:"lg:w-8/12 bg-white font-love rounded-lg"},tt={key:0,class:"flex flex-col gap-8 pb-16 w-full h-full"},st={class:"flex flex-col px-4 lg:px-8 py-4 bg-gray-700 text-white lg:rounded-t-md border-b-[1px]"},lt={class:"flex flex-col"},ot={class:"text-2xl font-black uppercase w-full lg:w-10/12 font-love"},at={class:"flex flex-col gap-1 mt-4"},nt={class:"flex items-center text-lg"},it={class:"flex items-center gap-1 font-bold"},rt={class:"flex gap-1 items-center flex-wrap text-lg hidden"},dt={class:"flex gap-1 items-center group cursor-pointer"},ct=["src"],ut={class:"text-base font-bold group-hover:underline"},pt={class:"flex flex-wrap gap-2"},ft={class:"flex gap-1 text-base"},gt={class:"flex items-center gap-1"},xt={class:"flex items-center gap-1"},yt={class:"text-base"},vt={class:"flex flex-wrap text-base"},mt={class:"flex gap-1 items-center"},ht={class:"mt-4 flex flex-wrap gap-2"},wt={key:1,class:"flex bg-gray-50/20 items-center gap-4 divide-x-[1px] p-4 hidden rounded-full"},bt={class:"px-4 lg:px-10"},Ot={class:"flex flex-col gap-4"},Jt=["innerHTML"],Ct={class:"border-[1px] p-4 rounded-md mt-8"},$t={class:"flex flex-col gap-4"},St={class:"flex flex-col lg:flex-row justify-between gap-2"},jt={class:"flex items-strat w-full lg:w-10/12 gap-2"},Tt={class:"rounded-full flex w-12 h-12"},kt=["src"],Pt={class:"flex flex-col w-10/12 gap-[0.15rem]"},At={class:"text-thin font-bold"},Lt={class:"text-xs lg:text-sm leading-4"},Mt={class:"text-xs text-blue-700 font-bold"},Dt={key:0,class:"flex items-center justify-end gap-1 w-full lg:w-4/12"},Et={class:"w-full lg:w-4/12 h-[40px] sticky top-16 mb-4 lg:mb-0"},It=N({__name:"job.detail",props:["JobOne","JobOneProfile"],setup(s){const l=j(()=>T(()=>import("./index-D5ohQRTx.js").then(x=>x.be),__vite__mapDeps([0,1]))),a=j(()=>T(()=>import("./index-D5ohQRTx.js").then(x=>x.bd),__vite__mapDeps([0,1]))),d=j(()=>T(()=>import("./index-D5ohQRTx.js").then(x=>x.bf),__vite__mapDeps([0,1]))),g=j(()=>T(()=>import("./index-D5ohQRTx.js").then(x=>x.bg),__vite__mapDeps([0,1]))),w=j(()=>T(()=>import("./SideLayout-DZrNfk07.js"),__vite__mapDeps([2,0,1]))),p=u({field_activity:{},localization:{country:{},city:{}},work_place:{},contract_type:{}}),P=V(),M=ie(),{abonneCount:z,FOLLOWCount:H}=Oe(),m=u({}),t=u(),b=u(!1);u(`
      @import url('https://fonts.googleapis.com/css?family=Cabin:100,200,300,400,500,600,700,800&display=swap');
      body {
  background-color: white;
  color: #2c3e50;
  line-height: 1.4;
  font-family: 'Cabin', 'Raleway', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,
    Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 15px;
  scroll-behavior: smooth;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
 
`),u();const{applyCreate:v,applyShow:re,stateApply:J,countApply:q}=Qe(),{USER:C,GET_USER:de}=Je();Ce(async()=>{ce().then(()=>{re(p.value.id),H(m.value.id)}),await de()});const ce=async()=>{var S;b.value=!0;const x=V(),{JobOne:n,profile:$,JobsInteresting:D,e:E}=await new $e().findOne((S=x.params)==null?void 0:S.slug);n&&$&&(p.value=n,m.value=$,t.value=D,console.log(t.value),b.value=!1)},ue=()=>{U().openModal=!0},{state:Rt,deleteJob:pe}=Se();return(x,n)=>{const $=oe("RouterLink"),D=oe("TrashIcon");return c(),f(L,null,[i(o(w),null,{content:A(()=>{var E,S,G,Y,W,Z,K,Q,X,ee,te,se;return[i(o(l)),e("section",Xe,[e("div",et,[b.value?(c(),_(_e,{key:1})):(c(),f("div",tt,[e("div",st,[e("div",lt,[e("span",ot,r(s.JobOne.title),1)]),e("div",at,[e("div",nt,[e("span",it,[i(o(Pe),{class:"h-5"}),O(" "+r(s.JobOne.country)+", "+r(s.JobOne.city)+" ("+r(s.JobOne.work_place.title)+") ",1)])]),e("div",rt,[e("div",dt,[e("img",{src:s.JobOne.image,alt:"",class:"w-6 h-6 bg-white object-cover rounded-full"},null,8,ct),e("span",ut,r(s.JobOneProfile.full_name),1)])]),e("div",pt,[e("div",ft,[e("span",gt,[i(o(Ae),{class:"h-5"}),e("span",null,r(s.JobOne.contract_type.title),1)]),n[3]||(n[3]=O(" ⬝ ")),e("span",xt,[i(o(De),{class:"h-5"}),O(" "+r(s.JobOne.field_activity.title),1)])]),n[4]||(n[4]=O(" ⬝ ")),e("span",yt,r(s.JobOne.created_at_from),1)]),e("div",vt,[O(" Delai : "+r(s.JobOne.dead_line_format)+" ⬝ ",1),e("span",mt,[i(o(Le),{class:"h-5"}),O(" "+r(o(q))+" candidat"+r(o(q)>1?"s":""),1)])])]),e("div",ht,[((E=o(C))==null?void 0:E.id)!==((G=(S=s.JobOne)==null?void 0:S.user)==null?void 0:G.id)?(c(),_(o(a),{key:0,onClick:n[0]||(n[0]=h=>{var y;return(y=o(C))!=null&&y.id?o(v)(s.JobOne.id):o(M).push(`/auth/sign-in/redirect=${o(P).path}`)}),label:o(J).apply_loading?"En cours...":o(J).is?"Candidature envoyée":"Postuler",disabled:o(J).is||o(J).apply_loading,"classe-name":o(J).is===!1?" bg-blue-800 px-4 py-2 text-base":" bg-gray-300 px-4 py-2 text-base"},null,8,["label","disabled","classe-name"])):k("",!0),i($,{to:`/${(Z=(W=(Y=s.JobOne)==null?void 0:Y.user)==null?void 0:W.profile)==null?void 0:Z.slug}?content_page=djmail`},{default:A(()=>{var h,y,le;return[((h=o(C))==null?void 0:h.id)===((le=(y=s.JobOne)==null?void 0:y.user)==null?void 0:le.id)?(c(),_(o(a),{key:0,label:"Voir les condidactures","classe-name":"bg-purple-800 px-4 py-2 text-base"})):k("",!0)]}),_:1},8,["to"]),e("div",{class:"hidden",onClick:n[1]||(n[1]=h=>ue())},[i(o(a),{label:"Tag un(e) ami(e)","classe-name":"px-4 py-2 text-base"})]),((K=o(C))==null?void 0:K.id)===((X=(Q=s.JobOne)==null?void 0:Q.user)==null?void 0:X.id)?(c(),f("div",wt,[i($,{to:"/jobs/edit/"+s.JobOne.slug},{default:A(()=>[i(o(Me),{class:"h-5 text-blue-500 cursor-pointer"})]),_:1},8,["to"]),i(D,{onClick:n[2]||(n[2]=h=>{var y;return o(pe)({id:(y=s.JobOne)==null?void 0:y.id})}),class:"h-5 pl-4 text-red-500 cursor-pointer"})])):k("",!0)])]),e("div",bt,[e("div",Ot,[n[5]||(n[5]=e("div",{class:"flex text-lg"},[e("span",{class:"font-bold"},"Description de l'offre")],-1)),e("article",{innerHTML:s.JobOne.description,class:"flex flex-col text-base whitespace-pre-wrap text-love h-[500px] overflow-y-auto list-disc list-circle"},null,8,Jt)]),e("div",Ct,[n[6]||(n[6]=e("div",{class:"flex mb-6"},[e("span",{class:"text-lg font-bold"},"Infos sur l'auteur")],-1)),e("div",$t,[e("div",St,[e("div",jt,[e("div",Tt,[e("img",{class:"w-full h-full object-cover rounded-full",src:s.JobOne.image,alt:""},null,8,kt)]),e("div",Pt,[e("span",At,r(s.JobOneProfile.first_name)+" "+r(s.JobOneProfile.last_name),1),e("span",Lt,r(s.JobOneProfile.bio),1),e("span",Mt,r(o(z))+" Abonné(s)",1)])]),((ee=o(C))==null?void 0:ee.id)!==((se=(te=s.JobOne)==null?void 0:te.user)==null?void 0:se.id)?(c(),f("div",Dt,[i(o(d),{label:"Suivre","classe-name":"w-full p-2",data:s.JobOne},null,8,["data"])])):k("",!0)])])])])]))]),e("div",Et,[i(o(g),{label:"Ceci pourrait vous intéressez",sub:"",more:!1},{default:A(()=>[b.value?(c(),f(L,{key:0},B(4,h=>e("div",null,[i(je)])),64)):(c(!0),f(L,{key:1},B(t.value,(h,y)=>(c(),f("div",null,[i(Te,{data:h,class:ke(y===t.value.length-1?"":"border-b-[1px]")},null,8,["data","class"])]))),256))]),_:1})])])]}),_:1}),i(Ke)],64)}}}),Nt=F(It,[["__scopeId","data-v-96d3e033"]]);export{Nt as default};
