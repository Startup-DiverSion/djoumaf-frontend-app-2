import{h as n,l as i,k as l,d as O,a8 as Q,a5 as q,y as X,ag as J,ad as K,z as W,ah as Y,ai as ee,B as le,aj as se,o as oe,f as te,i as t,w as ne,C as H,t as u,F as A,r,m as V,Z as f,n as d,ak as ie,s as Z,a2 as re,q as ae}from"./index-D5ohQRTx.js";import de from"./SideLayout-DZrNfk07.js";import ue from"./navigationFooter-DaXMYsOT.js";import{r as fe}from"./PencilIcon-ysmuxmfL.js";function ce(s,o){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-2.625 6c-.54 0-.828.419-.936.634a1.96 1.96 0 0 0-.189.866c0 .298.059.605.189.866.108.215.395.634.936.634.54 0 .828-.419.936-.634.13-.26.189-.568.189-.866 0-.298-.059-.605-.189-.866-.108-.215-.395-.634-.936-.634Zm4.314.634c.108-.215.395-.634.936-.634.54 0 .828.419.936.634.13.26.189.568.189.866 0 .298-.059.605-.189.866-.108.215-.395.634-.936.634-.54 0-.828-.419-.936-.634a1.96 1.96 0 0 1-.189-.866c0-.298.059-.605.189-.866Zm2.023 6.828a.75.75 0 1 0-1.06-1.06 3.75 3.75 0 0 1-5.304 0 .75.75 0 0 0-1.06 1.06 5.25 5.25 0 0 0 7.424 0Z","clip-rule":"evenodd"})])}const pe=O({components:{SideLayout:de,NavigationHeader:Q,TextQuery:q,NavigationFooter:ue,LadingSpinerBasic:X,ArrowLeftIcon:J,PencilIcon:fe,MagnifyingGlassIcon:K,XMarkIcon:W,FaceSmileIcon:ce,PaperAirplaneIcon:Y,AvatarProfile:ee},setup(){le({title:"Messages",StyleSheetList});const{messages:s,newMessage:o,sendMessage:F,allChats:j,USER:U,envConfig:N,loadMessageSpecific:y,current_user_chat:x,current_chat_id:b,auto_grow:C,areaMessageHt:w,closeMessage:a,newChatSarted:M,CheckedRecentMessage:S,loadMessageFromNotification:k,currentDateTime:I,loading_chat:E,isChatButHidden:L,setTimeChat:h}=se();return oe(()=>{}),{messages:s,newMessage:o,sendMessage:F,allChats:j,isChatButHidden:L,USER:U,envConfig:N,loadMessageSpecific:y,current_user_chat:x,auto_grow:C,areaMessageHt:w,closeMessage:a,newChatSarted:M,CheckedRecentMessage:S,currentDateTime:I,current_chat_id:b,loadMessageFromNotification:k,loading_chat:E,setTimeChat:h}}}),ge="/images/placeholder/inside_chat_message.png",_e={class:"flex lg:w-11/12 w-full m-auto lg:mt-24 h-[100vh] lg:h-[80vh] overflow-hidden relative top-0 lg:top-0"},me={class:"relative lg:w-full w-full lg:z-20 z-40 lg:h-[80vh] h-full bg-white lg:rounded-md"},ve={class:"flex gap-0 w-full h-full"},xe={class:"lg:flex flex-col lg:w-4/12 w-full pt-4 chatList h-full"},we={class:"flex justify-between m-auto w-11/12 items-center gap-4"},he={class:""},ye={class:"p-2 bg-gray-50 rounded-full"},be={class:"flex items-center gap-2 w-full px-4 pt-2 pb-4"},Ce={class:"flex items-center bg-gray-50 px-3 py-2 w-full rounded-md gap-2"},Me={class:"flex flex-col overflow-y-auto h-[80%]"},Se=["onClick"],ke={class:"flex justify-between w-10/12 py-3"},Ie={class:"flex flex-col w-full"},Ee={class:"flex justify-between items-center"},Le={class:"flex justify-between w-full"},ze={key:0,class:"bg-red-500 w-5 h-5 flex items-center text-xs font-light text-white text-center justify-center rounded-full"},Ae={class:""},Fe={key:1,class:"flex flex-col justify-center items-center h-[80%] gap-2"},je={class:"lg:flex hidden flex-col h-full lg:w-9/12 w-full chatMessage"},Ue={key:0,class:"bg-white px-4 lg:px-8 py-4 flex gap-2 items-center cursor-pointer fixed top-0 w-full z-40 lg:relative"},Ne={class:"flex flex-col"},Pe=["href"],Re={key:1,class:"flex flex-col w-full lg:h-[85%] h-[100vh]"},Be={class:"lg:p-8 px-4 py-12 h-full lg:h-[90%] overflow-auto flex flex-col gap-4 z-20 pt-24 lg:pt-4",id:"areaMessage"},Te={class:"lg:absolute fixed -bottom-2 w-full z-20"},$e={class:"flex w-full justify-between px-4 h-auto lg:py-4 py-3 bg-white gap-4"},De={class:"flex items-center justify-center w-full gap-4"},Ge={class:"flex items-center gap-4"},He={key:2,class:"w-full h-full"};function Ve(s,o,F,j,U,N){const y=r("NavigationHeader"),x=r("ArrowLeftIcon"),b=r("PencilIcon"),C=r("MagnifyingGlassIcon"),w=r("AvatarProfile"),a=r("TextQuery"),M=r("LadingSpinerBasic"),S=r("NavigationFooter"),k=r("FaceSmileIcon"),I=r("PaperAirplaneIcon"),E=r("SideLayout"),L=ae("lazy");return n(),i(A,null,[t(E,null,{content:ne(()=>{var h,P,R,B,T,$,D;return[t(y),l("main",_e,[l("div",me,[l("div",ve,[l("section",xe,[l("div",we,[l("div",he,[t(x,{class:"fi fi-rr-arrow-small-left flex text-4xl hidden"}),o[2]||(o[2]=l("span",{class:"text-xl font-bold"},"Messagerie",-1))]),l("button",ye,[t(b,{class:"text-gray-700 h-4"})])]),l("div",be,[l("div",Ce,[t(C,{class:"h-5"}),o[3]||(o[3]=l("input",{type:"search",class:"bg-transparent w-full",placeholder:"Search..."},null,-1))])]),l("div",Me,[s.allChats.length!==0?(n(!0),i(A,{key:0},V(s.allChats,e=>{var z,c,p,g,_,m,v,G;return n(),i("div",null,[l("div",{onClick:Ze=>s.loadMessageSpecific(e.id,e==null?void 0:e.no_view),class:f(["flex items-center w-full px-4 gap-x-2 cursor-pointer hover:bg-blue-50",s.current_chat_id==e.id?"bg-blue-100/80":""])},[t(w,{imageUrl:(p=(c=(z=e==null?void 0:e.display)==null?void 0:z.profile)==null?void 0:c.media_profile[0])!=null&&p.url?(_=(g=e==null?void 0:e.display)==null?void 0:g.profile)==null?void 0:_.media_profile[0].original_url:s.envConfig().DEFAULT_IMAGE_PROFILE,size:"small"},null,8,["imageUrl"]),l("div",ke,[l("div",Ie,[l("div",Ee,[t(a,{"class-name":"lg:text-ms text-thin",class:f((e==null?void 0:e.no_view)>0?"font-semibold":"font-medium"),title:(v=(m=e==null?void 0:e.display)==null?void 0:m.profile)==null?void 0:v.full_name,xl:20},null,8,["class","title"]),(e==null?void 0:e.last_message.length)!==0?(n(),i("span",{key:0,class:f(["text-[10px]",(e==null?void 0:e.no_view)>0?"font-semibold":"font-medium"])},u(e==null?void 0:e.last_message[0].created_at_y),3)):d("",!0)]),l("div",Le,[t(a,{"class-name":"text-xs font-[200] relative -top-[1px] ",title:(G=e==null?void 0:e.last_message[0])==null?void 0:G.message,sm:40,xl:40},null,8,["title"]),(e==null?void 0:e.no_view)!=0?(n(),i("div",ze,[l("span",Ae,u(e==null?void 0:e.no_view),1)])):d("",!0)])])])],10,Se)])}),256)):d("",!0),t(M,{loading:s.loading_chat,color:"text-blue-500"},null,8,["loading"]),!s.loading_chat&&s.allChats.length===0?(n(),i("div",Fe,o[4]||(o[4]=[l("img",{src:ie,class:"w-full h-32",alt:""},null,-1),l("span",{class:""}," Aucune conversation dÃ©marrer ",-1)]))):d("",!0)]),t(S,{class:"z-[1000000000]"})]),l("section",je,[s.current_user_chat?(n(),i("div",Ue,[t(x,{onClick:s.closeMessage,class:"p-1 lg:hidden h-8"},null,8,["onClick"]),t(w,{imageUrl:(P=(h=s.current_user_chat)==null?void 0:h.profile.media_profile[0])!=null&&P.url?(R=s.current_user_chat)==null?void 0:R.profile.media_profile[0].original_url:s.envConfig().DEFAULT_IMAGE_PROFILE,size:"medium"},null,8,["imageUrl"]),l("div",Ne,[l("a",{href:"/"+((T=(B=s.current_user_chat)==null?void 0:B.profile)==null?void 0:T.slug),class:"underline-offset-2 hover:underline"},[t(a,{"class-name":"font-bold text-base",title:($=s.current_user_chat)==null?void 0:$.profile.full_name,xl:50},null,8,["title"])],8,Pe),t(a,{"class-name":"relative top-[-3px] text-xs",title:(D=s.current_user_chat)==null?void 0:D.profile.bio,sm:40,xl:50},null,8,["title"])])])):d("",!0),s.current_user_chat?(n(),i("div",Re,[o[6]||(o[6]=l("img",{class:"-z-20 absolute opacity-90 h-full w-full object-cover inset-0",src:ge,alt:""},null,-1)),l("div",Be,[s.messages?(n(!0),i(A,{key:0},V(s.messages,(e,z)=>{var c,p,g,_,m,v;return n(),i("div",null,[l("div",{class:f(["flex gap-2 w-full",((c=s.USER)==null?void 0:c.id)==e.user.id?"flex justify-end":"flex justify-start"])},[Z(l("img",{class:f(["flex lg:h-[42px] lg:w-[42px] h-[32px] w-[32px] object-cover rounded-full",((p=s.USER)==null?void 0:p.id)==e.user.id?"order-last":"order-first"]),alt:""},null,2),[[L,(g=e==null?void 0:e.user.profile.media_profile[0])!=null&&g.url?e==null?void 0:e.user.profile.media_profile[0].original_url:s.envConfig().DEFAULT_IMAGE_PROFILE]]),l("div",{class:f(["flex flex-col w-10/12",((_=s.USER)==null?void 0:_.id)==e.user.id?"flex items-end":" flex items-start"])},[t(a,{"class-name":((m=s.USER)==null?void 0:m.id)==e.user.id?"text-xs font-bold opacity-90 ":"text-xs font-bold opacity-90",title:e.user.profile.full_name,xl:50},null,8,["class-name","title"]),t(a,{"class-name":["mt-1",((v=s.USER)==null?void 0:v.id)==e.user.id?"bg-blue-500 rounded-l-lg text-white  ":"bg-white rounded-r-lg   "," rounded-br-lg text-sm border-[0px]  min-w-[20%] max-w-[90%] p-3 break-words "],title:e.message,xl:300},null,8,["class-name","title"])],2)],2)])}),256)):d("",!0)]),l("div",Te,[l("div",$e,[l("div",De,[t(k,{class:"h-6 relative"}),Z(l("textarea",{"onUpdate:modelValue":o[0]||(o[0]=e=>s.newMessage=e),cols:"1",id:"in-only-textarea-chat",class:"flex w-full p-2 border-[1px] h-[40px] rounded-lg z-20 bg-transparent outline-none resize-none overflow-hidden",placeholder:"Enter your message here"},null,512),[[re,s.newMessage]]),H(" "+u(s.auto_grow),1)]),l("div",Ge,[o[5]||(o[5]=l("div",{class:"border-r-[1px] flex items-center gap-4 pr-4"},null,-1)),l("button",{onClick:o[1]||(o[1]=(...e)=>s.sendMessage&&s.sendMessage(...e))},[t(I,{class:"text-blue-700 h-8"})])])])])])):d("",!0),s.current_user_chat?d("",!0):(n(),i("div",He,o[7]||(o[7]=[l("div",{class:"absolute inset-0 bg-gray-100/50 w-full h-full z-20"},null,-1),l("div",{class:"object-cover w-full h-full rounded-r-xl",style:{"background-image":"url('/images/placeholder/chat_placeholder.jpg')"}},null,-1)])))])])])])]}),_:1}),H(" "+u(s.newChatSarted)+" "+u(s.CheckedRecentMessage)+" "+u(s.loadMessageFromNotification),1)],64)}const Je=te(pe,[["render",Ve]]);export{Je as default};
